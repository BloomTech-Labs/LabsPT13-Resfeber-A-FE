import React, { useEffect } from 'react';
import OktaSignIn from '@okta/okta-signin-widget';
import '@okta/okta-signin-widget/dist/css/okta-sign-in.min.css';
import './LoginContainer.css';

import { config } from '../../../utils/oktaConfig';

const LoginContainer = () => {
  useEffect(() => {
    const { pkce, issuer, clientId, redirectUri, scopes } = config;
    // destructure your config so that you can pass it into the required fields in your widget.
    const widget = new OktaSignIn({
      baseUrl: issuer ? issuer.split('/oauth2')[0] : '',
      clientId,
      redirectUri,
      registration: {},
      features: { registration: false },
      // turning this feature on allows your widget to use Okta for user registration
      logo: 'path',
      i18n: {
        en: {
          'primaryauth.title': 'welcome to resfeber',
        },
      },
      authParams: {
        pkce,
        issuer,
        display: 'page',
        scopes,
      },
    });

    widget.renderEl(
      { el: '#sign-in-widget' },
      () => {
        /**
         * In this flow, the success handler will not be called because we redirect
         * to the Okta org for the authentication workflow.
         */
      },
      err => {
        throw err;
      }
    );
  }, []);

  return (
    <div className="loginCont">
      <svg
        className="logo"
        width="633"
        height="180"
        viewBox="0 0 218 62"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M61.8329 25.3069C62.9344 25.3069 63.8982 25.5307 64.7243 25.9781C64.9996 26.1158 65.1029 26.374 65.0341 26.7526L64.1563 31.3994C64.1219 31.8124 63.881 31.9329 63.4335 31.7608C62.9172 31.5887 62.3148 31.5026 61.6264 31.5026C61.179 31.5026 60.8348 31.5198 60.5938 31.5543C59.1482 31.6231 57.9434 32.1394 56.9797 33.1032C56.0159 34.0325 55.534 35.2545 55.534 36.769V51.3804C55.534 51.5525 55.4652 51.7074 55.3275 51.8451C55.2242 51.9484 55.0865 52 54.9144 52H50.1644C49.9923 52 49.8374 51.9484 49.6997 51.8451C49.5965 51.7074 49.5449 51.5525 49.5449 51.3804V26.2363C49.5449 26.0642 49.5965 25.9265 49.6997 25.8233C49.8374 25.6856 49.9923 25.6167 50.1644 25.6167H54.9144C55.0865 25.6167 55.2242 25.6856 55.3275 25.8233C55.4652 25.9265 55.534 26.0642 55.534 26.2363V28.5597C55.534 28.6974 55.5512 28.7834 55.5856 28.8178C55.6545 28.8178 55.7233 28.7662 55.7922 28.6629C57.2378 26.4256 59.2514 25.3069 61.8329 25.3069ZM87.6075 35.8396C87.7452 36.7001 87.8141 37.6639 87.8141 38.7309L87.7624 40.3315C87.7624 40.7445 87.5559 40.951 87.1429 40.951H70.9825C70.8104 40.951 70.7243 41.0371 70.7243 41.2092C70.8276 42.3451 70.9825 43.1195 71.189 43.5326C72.0151 46.0108 74.0287 47.2672 77.2298 47.3016C79.5704 47.3016 81.4291 46.3378 82.8059 44.4103C82.9436 44.2038 83.1157 44.1005 83.3222 44.1005C83.4599 44.1005 83.5803 44.1521 83.6836 44.2554L86.8847 46.8886C87.1945 47.1295 87.2461 47.4049 87.0396 47.7147C85.9726 49.2292 84.5441 50.3994 82.7543 51.2255C80.9988 52.0516 79.0369 52.4647 76.8684 52.4647C74.1836 52.4647 71.8946 51.8623 70.0015 50.6576C68.1428 49.4529 66.7832 47.7663 65.9227 45.5978C65.131 43.7391 64.7352 41.1576 64.7352 37.8532C64.7352 35.8568 64.9417 34.2391 65.3547 32.9999C66.0431 30.5905 67.3339 28.6974 69.227 27.3205C71.1546 25.9093 73.4607 25.2037 76.1455 25.2037C82.9264 25.2037 86.747 28.749 87.6075 35.8396ZM76.1455 30.3668C74.872 30.3668 73.8049 30.6937 72.9444 31.3477C72.1183 31.9673 71.5332 32.845 71.189 33.9809C70.9825 34.566 70.8448 35.3233 70.7759 36.2526C70.7071 36.4248 70.7759 36.5108 70.9825 36.5108H81.4635C81.6356 36.5108 81.7216 36.4248 81.7216 36.2526C81.6528 35.3921 81.5495 34.7381 81.4119 34.2907C81.1021 33.0515 80.4825 32.0878 79.5532 31.3994C78.6582 30.711 77.5224 30.3668 76.1455 30.3668ZM99.5963 52.3098C97.4279 52.3098 95.5175 52 93.8653 51.3804C92.2476 50.7264 90.9912 49.8487 90.0963 48.7473C89.2014 47.6114 88.7539 46.355 88.7539 44.9782V44.5136C88.7539 44.3415 88.8055 44.2038 88.9088 44.1005C89.0465 43.9628 89.2014 43.894 89.3735 43.894H93.917C94.0891 43.894 94.2268 43.9628 94.33 44.1005C94.4677 44.2038 94.5365 44.3415 94.5365 44.5136V44.6168C94.5365 45.4773 95.0012 46.2346 95.9306 46.8886C96.8943 47.5081 98.0991 47.8179 99.5447 47.8179C100.922 47.8179 102.04 47.5426 102.901 46.9918C103.761 46.4067 104.191 45.6838 104.191 44.8233C104.191 44.0317 103.83 43.4465 103.107 43.0679C102.419 42.6549 101.283 42.2246 99.6996 41.7771L97.7376 41.1576C95.9822 40.6413 94.5021 40.0905 93.2974 39.5054C92.0927 38.9202 91.0773 38.1286 90.2512 37.1304C89.4251 36.0978 89.0121 34.7898 89.0121 33.2064C89.0121 30.797 89.9586 28.8867 91.8517 27.4754C93.7449 26.0298 96.2403 25.3069 99.3382 25.3069C101.438 25.3069 103.279 25.6512 104.863 26.3396C106.446 26.9935 107.668 27.9229 108.528 29.1276C109.389 30.2979 109.819 31.6403 109.819 33.1548C109.819 33.3269 109.75 33.4818 109.613 33.6195C109.509 33.7227 109.372 33.7744 109.2 33.7744H104.811C104.639 33.7744 104.484 33.7227 104.346 33.6195C104.243 33.4818 104.191 33.3269 104.191 33.1548C104.191 32.2599 103.744 31.5198 102.849 30.9347C101.989 30.3151 100.801 30.0053 99.2866 30.0053C97.9442 30.0053 96.8427 30.2635 95.9822 30.7798C95.1561 31.2617 94.7431 31.9501 94.7431 32.845C94.7431 33.6711 95.1389 34.3079 95.9306 34.7554C96.7567 35.1684 98.1163 35.6331 100.009 36.1494L101.145 36.4592C102.97 37.0099 104.501 37.5778 105.74 38.163C106.98 38.7137 108.029 39.5054 108.89 40.538C109.75 41.5362 110.181 42.8442 110.181 44.4619C110.181 46.9058 109.217 48.8333 107.289 50.2446C105.362 51.6214 102.797 52.3098 99.5963 52.3098ZM125.834 25.5651C126.006 25.5651 126.144 25.6339 126.247 25.7716C126.385 25.8749 126.454 26.0126 126.454 26.1847V30.2635C126.454 30.4356 126.385 30.5905 126.247 30.7282C126.144 30.8314 126.006 30.8831 125.834 30.8831H120.723C120.551 30.8831 120.465 30.9691 120.465 31.1412V51.3804C120.465 51.5525 120.396 51.7074 120.258 51.8451C120.155 51.9484 120.017 52 119.845 52H115.095C114.923 52 114.768 51.9484 114.631 51.8451C114.527 51.7074 114.476 51.5525 114.476 51.3804V31.1412C114.476 30.9691 114.39 30.8831 114.217 30.8831H111.016C110.844 30.8831 110.689 30.8314 110.552 30.7282C110.448 30.5905 110.397 30.4356 110.397 30.2635V26.1847C110.397 26.0126 110.448 25.8749 110.552 25.7716C110.689 25.6339 110.844 25.5651 111.016 25.5651H114.217C114.39 25.5651 114.476 25.479 114.476 25.3069V24.3776C114.476 22.1403 114.768 20.4192 115.353 19.2145C115.939 17.9754 116.902 17.0977 118.245 16.5814C119.587 16.0651 121.48 15.8241 123.924 15.8585H125.731C125.903 15.8585 126.041 15.9274 126.144 16.0651C126.282 16.1683 126.351 16.306 126.351 16.4781V20.0922C126.351 20.2644 126.282 20.4192 126.144 20.5569C126.041 20.6602 125.903 20.7118 125.731 20.7118H124.389C122.909 20.7118 121.876 21.0044 121.291 21.5895C120.74 22.1747 120.465 23.2417 120.465 24.7906V25.3069C120.465 25.479 120.551 25.5651 120.723 25.5651H125.834ZM148.802 35.8396C148.94 36.7001 149.008 37.6639 149.008 38.7309L148.957 40.3315C148.957 40.7445 148.75 40.951 148.337 40.951H132.177C132.005 40.951 131.919 41.0371 131.919 41.2092C132.022 42.3451 132.177 43.1195 132.383 43.5326C133.21 46.0108 135.223 47.2672 138.424 47.3016C140.765 47.3016 142.624 46.3378 144 44.4103C144.138 44.2038 144.31 44.1005 144.517 44.1005C144.654 44.1005 144.775 44.1521 144.878 44.2554L148.079 46.8886C148.389 47.1295 148.441 47.4049 148.234 47.7147C147.167 49.2292 145.739 50.3994 143.949 51.2255C142.193 52.0516 140.231 52.4647 138.063 52.4647C135.378 52.4647 133.089 51.8623 131.196 50.6576C129.337 49.4529 127.978 47.7663 127.117 45.5978C126.325 43.7391 125.93 41.1576 125.93 37.8532C125.93 35.8568 126.136 34.2391 126.549 32.9999C127.238 30.5905 128.528 28.6974 130.421 27.3205C132.349 25.9093 134.655 25.2037 137.34 25.2037C144.121 25.2037 147.941 28.749 148.802 35.8396ZM137.34 30.3668C136.066 30.3668 134.999 30.6937 134.139 31.3477C133.313 31.9673 132.728 32.845 132.383 33.9809C132.177 34.566 132.039 35.3233 131.97 36.2526C131.902 36.4248 131.97 36.5108 132.177 36.5108H142.658C142.83 36.5108 142.916 36.4248 142.916 36.2526C142.847 35.3921 142.744 34.7381 142.606 34.2907C142.297 33.0515 141.677 32.0878 140.748 31.3994C139.853 30.711 138.717 30.3668 137.34 30.3668ZM173.637 32.432C174.222 34.3595 174.515 36.4592 174.515 38.7309C174.515 41.1748 174.188 43.326 173.534 45.1848C172.777 47.4565 171.555 49.2292 169.868 50.5027C168.181 51.7763 166.116 52.413 163.672 52.413C161.263 52.413 159.284 51.5009 157.735 49.6766C157.666 49.5734 157.597 49.5389 157.528 49.5734C157.46 49.6078 157.425 49.6766 157.425 49.7799V51.3804C157.425 51.5525 157.356 51.7074 157.219 51.8451C157.115 51.9484 156.978 52 156.806 52H152.056C151.883 52 151.729 51.9484 151.591 51.8451C151.488 51.7074 151.436 51.5525 151.436 51.3804V16.4781C151.436 16.306 151.488 16.1683 151.591 16.0651C151.729 15.9274 151.883 15.8585 152.056 15.8585H156.806C156.978 15.8585 157.115 15.9274 157.219 16.0651C157.356 16.1683 157.425 16.306 157.425 16.4781V27.682C157.425 27.7852 157.46 27.8541 157.528 27.8885C157.597 27.9229 157.666 27.9057 157.735 27.8368C159.215 26.0814 161.177 25.2037 163.621 25.2037C166.168 25.2037 168.268 25.8405 169.92 27.114C171.606 28.3876 172.845 30.1602 173.637 32.432ZM167.132 44.7717C167.958 43.326 168.371 41.3469 168.371 38.8342C168.371 36.1494 167.854 34.0497 166.822 32.5352C165.893 31.0896 164.516 30.3668 162.691 30.3668C161.005 30.3668 159.714 31.124 158.819 32.6385C157.959 34.0497 157.528 36.0978 157.528 38.7826C157.528 41.4329 157.924 43.4293 158.716 44.7717C159.611 46.4239 160.953 47.25 162.743 47.25C163.707 47.25 164.567 47.0435 165.325 46.6304C166.082 46.1829 166.684 45.5634 167.132 44.7717ZM199.178 35.8396C199.316 36.7001 199.385 37.6639 199.385 38.7309L199.333 40.3315C199.333 40.7445 199.127 40.951 198.713 40.951H182.553C182.381 40.951 182.295 41.0371 182.295 41.2092C182.398 42.3451 182.553 43.1195 182.76 43.5326C183.586 46.0108 185.599 47.2672 188.8 47.3016C191.141 47.3016 193 46.3378 194.377 44.4103C194.514 44.2038 194.686 44.1005 194.893 44.1005C195.031 44.1005 195.151 44.1521 195.254 44.2554L198.455 46.8886C198.765 47.1295 198.817 47.4049 198.61 47.7147C197.543 49.2292 196.115 50.3994 194.325 51.2255C192.569 52.0516 190.607 52.4647 188.439 52.4647C185.754 52.4647 183.465 51.8623 181.572 50.6576C179.713 49.4529 178.354 47.7663 177.493 45.5978C176.702 43.7391 176.306 41.1576 176.306 37.8532C176.306 35.8568 176.512 34.2391 176.925 32.9999C177.614 30.5905 178.905 28.6974 180.798 27.3205C182.725 25.9093 185.031 25.2037 187.716 25.2037C194.497 25.2037 198.318 28.749 199.178 35.8396ZM187.716 30.3668C186.443 30.3668 185.376 30.6937 184.515 31.3477C183.689 31.9673 183.104 32.845 182.76 33.9809C182.553 34.566 182.415 35.3233 182.347 36.2526C182.278 36.4248 182.347 36.5108 182.553 36.5108H193.034C193.206 36.5108 193.292 36.4248 193.292 36.2526C193.223 35.3921 193.12 34.7381 192.982 34.2907C192.673 33.0515 192.053 32.0878 191.124 31.3994C190.229 30.711 189.093 30.3668 187.716 30.3668ZM214.049 25.3069C215.15 25.3069 216.114 25.5307 216.94 25.9781C217.215 26.1158 217.319 26.374 217.25 26.7526L216.372 31.3994C216.338 31.8124 216.097 31.9329 215.649 31.7608C215.133 31.5887 214.531 31.5026 213.842 31.5026C213.395 31.5026 213.05 31.5198 212.809 31.5543C211.364 31.6231 210.159 32.1394 209.195 33.1032C208.232 34.0325 207.75 35.2545 207.75 36.769V51.3804C207.75 51.5525 207.681 51.7074 207.543 51.8451C207.44 51.9484 207.302 52 207.13 52H202.38C202.208 52 202.053 51.9484 201.915 51.8451C201.812 51.7074 201.761 51.5525 201.761 51.3804V26.2363C201.761 26.0642 201.812 25.9265 201.915 25.8233C202.053 25.6856 202.208 25.6167 202.38 25.6167H207.13C207.302 25.6167 207.44 25.6856 207.543 25.8233C207.681 25.9265 207.75 26.0642 207.75 26.2363V28.5597C207.75 28.6974 207.767 28.7834 207.801 28.8178C207.87 28.8178 207.939 28.7662 208.008 28.6629C209.453 26.4256 211.467 25.3069 214.049 25.3069Z"
          fill="#FF511E"
        />
        <path
          d="M27.3055 38.4219H11.4149C10.7759 38.4219 10.2578 38.9399 10.2578 39.579V42.6407C10.2578 46.5147 13.4094 49.6664 17.2834 49.6664H21.4369C25.3108 49.6664 28.4625 46.5148 28.4625 42.6407V39.579C28.4625 38.9399 27.9445 38.4219 27.3055 38.4219ZM21.437 47.3524H17.2835C14.6855 47.3524 12.572 45.2387 12.572 42.6408V40.736H26.1485V42.6408C26.1485 45.2387 24.035 47.3524 21.437 47.3524Z"
          fill="#FF511E"
        />
        <path
          d="M27.3055 33.8066H11.4149C10.7759 33.8066 10.2578 34.3247 10.2578 34.9637C10.2578 35.6027 10.7759 36.1208 11.4149 36.1208H27.3055C27.9445 36.1208 28.4625 35.6027 28.4625 34.9637C28.4625 34.3247 27.9445 33.8066 27.3055 33.8066Z"
          fill="#FF511E"
        />
        <path
          d="M33.4615 33.8598V32.375C33.4615 30.6193 33.1381 28.9381 32.5492 27.3865V19.0543C32.5492 17.5139 31.296 16.2608 29.7556 16.2608H27.1721C25.6317 16.2608 24.3785 17.5139 24.3785 19.0543V19.1982C22.819 18.6024 21.1279 18.2749 19.3615 18.2749C17.5951 18.2749 15.9042 18.6024 14.3446 19.1981V19.0542C14.3446 17.5139 13.0915 16.2607 11.5511 16.2607H8.96763C7.42725 16.2607 6.17412 17.5139 6.17412 19.0542V27.3856C5.58504 28.9375 5.26141 30.619 5.26141 32.375V33.8598C2.28927 34.2964 0 36.8624 0 39.9539V45.6553C0 47.5693 1.55709 49.1264 3.471 49.1264H5.26149V49.6286C5.26149 52.2365 7.38323 54.3582 9.99106 54.3582H28.7319C31.3398 54.3582 33.4615 52.2365 33.4615 49.6286V49.1264H35.252C37.166 49.1264 38.723 47.5693 38.723 45.6553V39.9539C38.723 36.8624 36.4337 34.2964 33.4615 33.8598ZM5.26149 46.8122H3.471C2.83306 46.8122 2.31408 46.2931 2.31408 45.6552V39.9538C2.31408 38.1424 3.57273 36.6194 5.26149 36.2137V46.8122ZM26.6926 19.0543C26.6926 18.79 26.9077 18.5749 27.1721 18.5749H29.7556C30.02 18.5749 30.2351 18.79 30.2351 19.0543V23.4081C29.2354 22.198 28.0379 21.1571 26.6927 20.3351L26.6926 19.0543ZM8.48828 19.0543C8.48828 18.79 8.70337 18.5749 8.9677 18.5749H11.5512C11.8155 18.5749 12.0306 18.79 12.0306 19.0543V20.3348C10.6855 21.1569 9.48804 22.1976 8.48835 23.4076L8.48828 19.0543ZM31.1474 49.6285C31.1474 50.9605 30.0638 52.044 28.732 52.044H9.99106C8.65913 52.044 7.57564 50.9604 7.57564 49.6285V32.375C7.57564 25.8762 12.8628 20.589 19.3616 20.589C24.2499 20.589 28.4523 23.5807 30.2351 27.8291V27.8316H30.2361C30.8227 29.2305 31.1474 30.7655 31.1474 32.375V49.6285ZM36.4089 45.6553C36.4089 46.2933 35.8899 46.8124 35.252 46.8124H33.4615V36.2137C35.1503 36.6196 36.4089 38.1425 36.4089 39.9539V45.6553Z"
          fill="#FF511E"
        />
      </svg>
      <div id="sign-in-widget" />
    </div>
  );
};

export default LoginContainer;
